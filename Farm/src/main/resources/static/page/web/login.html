<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ç½‘ç«™å‰å°ç™»å½•é¡µé¢</title>
  <link rel="stylesheet" type="text/css" href="/assets/css/main.css">
  <link rel="stylesheet" type="text/css" href="/assets/libs/layui/css/layui.css">
  <script type="text/javascript" src="/assets/libs/layui/layui.js"></script>
  <script type="text/javascript" src="/assets/js/common.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
</head>
<body>
<div id="moveMouse" style="background-image: url('../../assets/img/Watermelon.png');background-repeat:no-repeat;background-size:100% 100%;-moz-background-size:100% 100%;
 width: 40px;height: 40px;position:absolute;z-index: 1000;left:-40px;top: -40px;"></div>
  <div class="site-nav-bg">
    <div class="site-nav w1200">
      <p class="sn-back-home">
        <i class="layui-icon layui-icon-home"></i>
        <a href="commodity.html">é¦–é¡µ</a>
      </p>
      <div class="sn-quick-menu">
        <div class="login"><a href="login.html">ç™»å½•</a></div>
        <div class="sp-cart"><a href="shopcart.html">è´­ç‰©è½¦</a><i class="layui-icon layui-icon-cart-simple"></i></div>
      </div>
    </div>
  </div>



  <div class="header">
    <div class="headerLayout w1200">
      <div class="headerCon">
        <h1 class="mallLogo">
          <a href="#" title="å†œäº§å“">
            <img src="/assets/img/å†œäº§å“å°æ ‡é¢˜.png">
            <img src="/assets/img/æ ‡é¢˜2.jpg" >
            <img src="/assets/img/å°æ ‡é¢˜3.jpg">
          </a>
        </h1>
        <div class="mallSearch">
          <form action="" class="layui-form" novalidate>
            <input id="search_pro" type="text" name="title" required  lay-verify="required" autocomplete="off" class="layui-input" placeholder="è¯·è¾“å…¥éœ€è¦çš„å•†å“">
            <input type="button" class="search_bt" class="layui-btn" lay-verify="required" value="ğŸ”">
            <input type="hidden" name="" value="">
          </form>
        </div>
      </div>
    </div>
  </div>


  <div class="content content-nav-base  login-content">
    <div class="main-nav">
      <div class="inner-cont0">
        <div class="inner-cont1 w1200">
          <div class="inner-cont2">
            <a href="commodity.html" class="active">æ‰€æœ‰å•†å“</a>
            <a href="buytoday.html">ä»Šæ—¥å›¢è´­</a>
            <a href="information.html">å†œäº§å“èµ„è®¯</a>
            <a href="about.html">å…³äºæˆ‘ä»¬</a>
          </div>
        </div>
      </div>
    </div>
    <div class="login-bg" style="background-image: url('../../assets/img/back2.jpg');background-repeat:no-repeat;background-size:100% 100%;-moz-background-size:100% 100%;background-position: 0 10%">
      <div class="login-cont w1200">
        <div class="form-box">
          <form class="layui-form" action="">
            <legend>ç”¨æˆ·ç™»å½•</legend>
            <div class="layui-form-item">
              <div class="layui-inline iphone">
                <div class="layui-input-inline">
                  <i class="layui-icon layui-icon-cellphone iphone-icon"></i>
                  <input type="text" name="name" id="username" lay-verify="name" placeholder="è¯·è¾“å…¥ç”¨æˆ·å" autocomplete="off" class="layui-input pnum">
                </div>
              </div>
              <div class="layui-inline veri-code">
                <div class="layui-input-inline">
                  <i class="layui-icon layui-icon-password password-icon"></i>
                  <input id="password" type="password" name="pass" lay-verify="required|pass" placeholder="è¯·è¾“å…¥å¯†ç " autocomplete="off" class="layui-input pnum pass">
                  <!--<input type="button" class="layui-btn" id="find"  value="éªŒè¯ç " /> -->
                </div>
              </div>
            </div>
            <div class="layui-form-item login-btn">
              <div class="layui-input-block">
                <button class="layui-btn" id="login" lay-submit="" lay-filter="demo1" onclick="return false">ç™»å½•</button>
              </div>
            </div>
          </form>
          <div class="layui-input-line">
            <button class="layui-btn" id="new_user" lay-submit="" lay-filter="demo2" onclick="return false">æ³¨å†Œ</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="footer">
    <div class="ng-promise-box">
      <div class="ng-promise w1200">
        <p class="text">
          <a class="icon1" href="javascript:;">7å¤©æ— ç†ç”±é€€æ¢è´§</a>
          <a class="icon2" href="javascript:;">æ»¡99å…ƒå…¨åœºå…é‚®</a>
          <a class="icon3" style="margin-right: 0" href="javascript:;">100%å“è´¨ä¿è¯</a>
        </p>
      </div>
    </div>
    <div class="mod_help w1200">                                     
      <p>
        <a href="about.html">å…³äºæˆ‘ä»¬</a>
        <span>|</span>
        <a href="javascript:;">å¸®åŠ©ä¸­å¿ƒ</a>
        <span>|</span>
        <a href="about.html">å”®åæœåŠ¡</a>
        <span>|</span>
        <a href="information.html">ç‰¹è‰²å†œäº§å“èµ„è®¯</a>
        <span>|</span>
        <a href="javascript:;">å…³äºè´§æº</a>
      </p>
      <p class="coty">å†œäº§å“å•†åŸç‰ˆæƒæ‰€æœ‰ &copy; 2012-2020</p>
    </div>
  </div>
<!--  è¡¨å•å¼¹å‡º-->
  <script type="text/html" id="register">
    <div class="form-box1">
    <form class="layui-form" action="" id="registerForm" lay-filter="registerForm">
            <legend>ç”¨æˆ·æ³¨å†Œ</legend>
            <div class="layui-form-item">
            <div class="layui-inline veri-code">
            <div class="layui-input-inline" style="width:270px;">
            <i class="layui-icon layui-icon-username iphone-icon"></i>
            <input type="text" name="name" id="name" lay-verify="name" placeholder="ç”¨æˆ·å,å¯åŒ…æ‹¬æ±‰å­—æˆ–å­—æ¯(3~11)" autocomplete="off" class="layui-input">
            </div>
            </div>
              <div class="layui-inline veri-code">
                <div class="layui-input-inline" style="width:270px;">
                  <i class="layui-icon layui-icon-cellphone iphone-icon"></i>
                  <input type="text" name="tel" id="phone" lay-verify="phone" placeholder="è¾“å…¥æ‰‹æœºå·" autocomplete="off" class="layui-input">
                </div>
              </div>
            <div class="layui-inline veri-code">
            <div class="layui-input-inline" style="width:270px;">
            <i class="layui-icon layui-icon-password password-icon"></i>
            <input type="password" id="pass" type="password" name="pass" lay-verify="pass" placeholder="å¯†ç ,å¯åŒ…æ‹¬å­—æ¯æ•°å­—å’Œä¸‹åˆ’çº¿(3~11)" autocomplete="off" class="layui-input pnum pass">
            </div>
            </div>
              <div class="layui-inline veri-code">
                <div class="layui-input-inline" style="width:270px;">
                  <i class="layui-icon layui-icon-location location-icon"></i>
                  <input type="text" id="province" name="province" lay-verify="province" placeholder="è¯·è¾“å…¥æ‰€åœ¨çœ(3~8)" autocomplete="off" class="layui-input pnum">
                </div>
              </div>
              <div class="layui-inline veri-code">
                <div class="layui-input-inline" style="width:270px;">
                  <i class="layui-icon layui-icon-location location-icon"></i>
                  <input type="text" id="city" name="city" lay-verify="city" placeholder="è¯·è¾“å…¥æ‰€åœ¨å¸‚(3~8)" autocomplete="off" class="layui-input pnum">
                </div>
              </div>
              <div class="layui-inline veri-code">
                <div class="layui-input-inline" style="width:270px;">
                  <i class="layui-icon layui-icon-location location-icon"></i>
                  <input type="text" id="county" name="county" lay-verify="county" placeholder="è¯·è¾“å…¥æ‰€åœ¨å¿(3~8)" autocomplete="off" class="layui-input pnum">
                </div>
              </div>
              <div class="layui-inline veri-code">
                <div class="layui-input-inline" style="width:270px;">
                  <i class="layui-icon layui-icon-location location-icon"></i>
                  <input type="text" id="detail" name="detail" lay-verify="detail" placeholder="è¯·è¾“å…¥è¯¦ç»†åœ°å€(9~30)" autocomplete="off" class="layui-input pnum">
                </div>
              </div>
            </div>
      <div class="layui-form-item text-right">
        <button style="right: 100px;width: 100px;" class="layui-btn layui-btn-primary layui-layer-close layui-layer-close1"
                type="button" ew-event="closeDialog">å–æ¶ˆ
        </button>
        <button class="layui-btn" lay-filter="register" id="register2" lay-submit=""  style="margin-left: 100px;width: 100px;">ä¿å­˜</button>
      </div>
            </form>
    </div>
  </script>
  <script type="text/javascript">
   layui.use(['jquery','form','layer','admin'],function(){
          var $ = layui.$,form = layui.form,layer = layui.layer,admin=layui.admin;


     $('html').hide();
     $('html').fadeIn(1000);

     //æ¨¡ç³ŠæŸ¥è¯¢
     $(document).on('click','.search_bt',function () {
       sessionStorage.setItem('keyWord',$('#search_pro').val());
       window.location.href = '/page/web/commodity.html';
     });

     //è¡¨å•éªŒè¯
     form.verify({
       name:[/^[\u4e00-\u9fa5]|[a-zA-Z]{2,11}$/,'è¯·è¾“å…¥æ­£ç¡®çš„4-11ä½ç”¨æˆ·å'],
       pass:[/^(\w){3,11}$/,'è¯·è¾“å…¥æ­£ç¡®çš„3-11ä½å¯†ç ,å¯åŒ…æ‹¬å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿'],
       province:[/^[\u4e00-\u9fa5]*[çœ]{3,8}$/,'è¯·è¾“å…¥æ­£ç¡®åœ°å'],
       city:[/^[\u4e00-\u9fa5]{3,8}$/,'è¯·è¾“å…¥æ­£ç¡®åœ°å'],
       county:[/^[\u4e00-\u9fa5]{3,8}$/,'è¯·è¾“å…¥æ­£ç¡®åœ°å'],
       detail:[/^[\u4e00-\u9fa5]{9,30}$/,'è¯·è¾“å…¥æ­£ç¡®åœ°å']
     });

         // è¡¨å•æäº¤ã€ç™»å½•
         form.on('submit(demo1)', function (data) {
           var field = data.field;
           console.log(field);

           //è¡¨å•æäº¤
           $.ajax({
             type:"get",
             data: field,
             url: "/main/login",
             // dataType:"json",
             success:function (res) {
               admin.btnLoading('#btnLoading', false);
               if (res.code==0){
                 layer.msg('ç™»å½•æˆåŠŸ', {icon: 1, time: 1000}, function () {
                   sessionStorage.setItem('login_success',res.code);
                   sessionStorage.setItem('username',$('#username').val());
                   sessionStorage.setItem('address1',res.data.province);
                   sessionStorage.setItem('address2',res.data.city);
                   sessionStorage.setItem('address3',res.data.county);
                   sessionStorage.setItem('userAddress',res.data.detail);
                   sessionStorage.setItem('changeUserId',res.data.id);
                   console.log(sessionStorage.getItem('userAddress'));
                   sessionStorage.setItem('tel',res.data.tel);
                   location.replace('/page/web/commodity.html');
                 });
               }else {
                 admin.btnLoading('#btnLoading', false);
                 layer.msg('ç™»å½•å¤±è´¥ï¼Œè¯·é‡è¯•<br><cite>(' + res.msg + ')</cite>', {icon: 5});
               }
             }
           });
           return false;
         });

     //æ³¨å†Œå¼¹å‡º
     form.on('submit(demo2)',function(data) {
       layer.open({
         type: 1,
         title: 'æ³¨å†Œ',
         area: '800px',
         shade: 0.3,
         content: $('#register').html(),
         success: function (layero, index) {  //å¼¹å‡ºæˆåŠŸçš„å›è°ƒ
           console.log('å¼¹å‡ºäº†' + layero, index);

           //è¡¨å•éªŒè¯
           form.verify({
             name:[/^[a-zA-Z\u4E00-\u9FA5][a-zA-Z0-9\u4E00-\u9FA5_-]{2,11}$/,'è¯·è¾“å…¥æ­£ç¡®çš„3-11ä½ç”¨æˆ·å'],
             pass:[/^(\w){3,11}$/,'è¯·è¾“å…¥æ­£ç¡®çš„3-11ä½å¯†ç ,å¯åŒ…æ‹¬å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿'],
             province:[/^[\u4e00-\u9fa5]{3,8}$/,'è¯·è¾“å…¥æ­£ç¡®åœ°å'],
             city:[/^[\u4e00-\u9fa5]{3,8}$/,'è¯·è¾“å…¥æ­£ç¡®åœ°å'],
             county:[/^[\u4e00-\u9fa5]{3,8}$/,'è¯·è¾“å…¥æ­£ç¡®åœ°å'],
             detail:[/^[\u4e00-\u9fa5]{9,30}$/,'è¯·è¾“å…¥æ­£ç¡®åœ°å']
           });

           //éªŒè¯

           form.on('submit(register)',function (data) {
             var field01 = data.field;

             $.ajax({
               type: "get",
               url: "/main/login/register",
               data: field01,
               success: function (res) {
                 admin.btnLoading('#btnLoading', false);
                 if (res.code == 0) {
                   layer.msg(res.msg, {icon: 1, time: 1500}, function () {
                     location.replace('/page/web/login.html');
                   });
                 }else{
                   layer.msg(res.msg);
                   form.render();
                 }

               }, error: function () {
               }
             });
             return false;
           });
         }
       })

     });


     //é¼ æ ‡
     $(function () {
       var moveMouse = $('#moveMouse');
       $(document).mousemove(function (event) {
         event = event || window.event;
         var x = $(window).scrollTop();
         var left = event.clientX;
         var top = event.clientY;
         moveMouse.css('left', (left + 15)+ 'px');
         moveMouse.css('top', (top + x) + 'px');
       })
     });
    })
  </script>
</body>
</html>